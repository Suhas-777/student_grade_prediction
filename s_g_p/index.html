<!DOCTYPE html>
<html>
<head>
  <title>Student Grade Predictor</title>
  <style>
    body {
      font-family: Arial;
      margin: 50px;
    }
    input {
      padding: 8px;
      margin: 10px 0;
      width: 200px;
    }
    button {
      padding: 10px 20px;
    }
  </style>
</head>
<body>
  <h2>Student Grade Prediction</h2>
  <label>Hours Studied: <input type="number" id="hours" step="any"></label><br>
  <label>Previous Grade: <input type="number" id="prev_grade" step="any"></label><br>
  <button onclick="predict()">Predict</button>

  <h3 id="result"></h3>

  <script>
    let intercept, coef_hours, coef_prev;

    // Fetch coefficients from config.json
    fetch('config.json')
      .then(response => response.json())
      .then(data => {
        intercept = data.intercept;
        coef_hours = data.coef_hours;
        coef_prev = data.coef_prev;
      })
      .catch(error => {
        console.error('Error fetching model config:', error);
      });

    function predict() {
      const hours = parseFloat(document.getElementById('hours').value);
      const prev = parseFloat(document.getElementById('prev_grade').value);

      if (isNaN(hours) || isNaN(prev)) {
        document.getElementById('result').innerText = "Please enter valid inputs.";
        return;
      }

      if (intercept === undefined) {
        document.getElementById('result').innerText = "Model not loaded yet. Try again in a moment.";
        return;
      }

      const prediction = intercept + coef_hours * hours + coef_prev * prev;
      document.getElementById('result').innerText = `Predicted Final Grade: ${prediction.toFixed(2)}`;
    }
  </script>
</body>
</html>

